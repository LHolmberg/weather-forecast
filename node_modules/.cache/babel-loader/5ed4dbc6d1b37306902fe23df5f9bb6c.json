{"ast":null,"code":"import _classCallCheck from\"/Users/lholmberg/Documents/weather-forecast/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lholmberg/Documents/weather-forecast/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lholmberg/Documents/weather-forecast/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lholmberg/Documents/weather-forecast/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import'./styles/WeatherInfo.scss';import{useNavigate,useLocation}from\"react-router-dom\";import{toCelsius,day}from'./helper/Helper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WeatherHelper=/*#__PURE__*/function(_React$Component){_inherits(WeatherHelper,_React$Component);var _super=_createSuper(WeatherHelper);function WeatherHelper(props){var _this;_classCallCheck(this,WeatherHelper);_this=_super.call(this,props);_this.state={items:[],DataisLoaded:false};return _this;}_createClass(WeatherHelper,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://api.openweathermap.org/geo/1.0/direct?q=\"+this.props.city.replace(/ /g,'_')+\"&limit=5&appid=ebd7ba44716d363e4cf939b5c8a73e46\").then(function(geoRes){return geoRes.json();}).then(function(geoJson){fetch(\"https://weather-react-api.vercel.app/forecast/coords/\"+geoJson[0][\"lat\"]+\",\"+geoJson[0][\"lon\"]).then(function(weatherRes){return weatherRes.json();}).then(function(weatherJson){_this2.setState({items:weatherJson,DataisLoaded:true});});});}},{key:\"render\",value:function render(){var _this$state=this.state,DataisLoaded=_this$state.DataisLoaded,items=_this$state.items;if(!DataisLoaded)return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loading\",children:\" Loading... \"}),\" \"]});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:this.props.city.charAt(0).toUpperCase()+this.props.city.slice(1)}),/*#__PURE__*/_jsxs(\"h3\",{children:[this.state.items[\"currently\"][\"summary\"]+\", Feels like \"+Math.round(toCelsius(this.state.items[\"currently\"][\"apparentTemperature\"]))+\"°\",/*#__PURE__*/_jsx(\"br\",{}),\"Wind: \"+Math.round(this.state.items[\"currently\"][\"windSpeed\"])+\"kph\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\"UV Index: \"+this.state.items[\"currently\"][\"uvIndex\"],/*#__PURE__*/_jsx(\"br\",{}),\" \",\"Pressure: \"+this.state.items[\"currently\"][\"pressure\"]+\"hPa\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:Math.round(toCelsius(this.state.items[\"currently\"][\"temperature\"]))+\"°\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:day(1)}),/*#__PURE__*/_jsx(\"td\",{children:day(2)}),/*#__PURE__*/_jsx(\"td\",{children:day(3)}),/*#__PURE__*/_jsx(\"td\",{children:day(4)}),/*#__PURE__*/_jsx(\"td\",{children:day(5)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][1][\"temperatureHigh\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][2][\"temperatureHigh\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][3][\"temperatureHigh\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][4][\"temperatureHigh\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][5][\"temperatureHigh\"]))+\"°\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][1][\"temperatureLow\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][2][\"temperatureLow\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][3][\"temperatureLow\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][4][\"temperatureLow\"]))+\"°\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][5][\"temperatureLow\"]))+\"°\"})]})]})]})});}}]);return WeatherHelper;}(React.Component);export default function WeatherInfo(){var location=useLocation();return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsx(WeatherHelper,{city:location.state.city})});}","map":{"version":3,"sources":["/Users/lholmberg/Documents/weather-forecast/src/WeatherInfo.js"],"names":["React","useNavigate","useLocation","toCelsius","day","WeatherHelper","props","state","items","DataisLoaded","fetch","city","replace","then","geoRes","json","geoJson","weatherRes","weatherJson","setState","charAt","toUpperCase","slice","Math","round","Component","WeatherInfo","location"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './styles/WeatherInfo.scss'\nimport {\n    useNavigate,\n    useLocation\n} from \"react-router-dom\";\nimport {\n    toCelsius,\n    day\n} from './helper/Helper';\n\n\nclass WeatherHelper extends React.Component {\n\n    constructor(props) {\n        super(props);\n   \n        this.state = {\n            items: [],\n            DataisLoaded: false\n        };\n    }\n\n    componentDidMount() {\n        fetch(\n            \"http://api.openweathermap.org/geo/1.0/direct?q=\"+this.props.city.replace(/ /g, '_') +\"&limit=5&appid=ebd7ba44716d363e4cf939b5c8a73e46\")\n            .then((geoRes) => geoRes.json())\n            .then((geoJson) => {\n                fetch(\n                    \"https://weather-react-api.vercel.app/forecast/coords/\" + geoJson[0][\"lat\"] + \",\" + geoJson[0][\"lon\"])\n                    .then((weatherRes) => weatherRes.json())\n                    .then((weatherJson) => {\n                        this.setState({\n                            items: weatherJson,\n                            DataisLoaded: true\n                        });\n                    })\n            })\n    }\n\n    render() {\n        const { DataisLoaded, items } = this.state;\n\n        if (!DataisLoaded) return <div>\n            <h1 className=\"loading\"> Loading... </h1> </div> ;\n        \n        return (\n            <div>\n            <div class=\"card\">\n                <h2>{this.props.city.charAt(0).toUpperCase() + this.props.city.slice(1)}</h2>\n                <h3>{this.state.items[\"currently\"][\"summary\"] + \", Feels like \" +\n                 Math.round(toCelsius(this.state.items[\"currently\"][\"apparentTemperature\"])) + \"°\"}<br/>\n                {\"Wind: \" + Math.round(this.state.items[\"currently\"][\"windSpeed\"]) + \"kph\"} <br/>\n                {\"UV Index: \" + this.state.items[\"currently\"][\"uvIndex\"]}<br/> {\"Pressure: \" +\n                 this.state.items[\"currently\"][\"pressure\"] +  \"hPa\"}</h3>\n                <br/><br/><br/><br/><br/>\n                <h1>{Math.round(toCelsius(this.state.items[\"currently\"][\"temperature\"])) + \"°\"}</h1>\n                \n                <table>\n                    <tr>\n                        <td>{day(1)}</td>\n                        <td>{day(2)}</td>\n                        <td>{day(3)}</td>\n                        <td>{day(4)}</td>\n                        <td>{day(5)}</td>\n                    </tr>\n                    {/* high */}\n                    <tr>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][1][\"temperatureHigh\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][2][\"temperatureHigh\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][3][\"temperatureHigh\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][4][\"temperatureHigh\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][5][\"temperatureHigh\"])) + \"°\"}</td>\n                    </tr>\n                    {/* low */}\n                    <tr>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][1][\"temperatureLow\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][2][\"temperatureLow\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][3][\"temperatureLow\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][4][\"temperatureLow\"])) + \"°\"}</td>\n                        <td>{Math.round(toCelsius(this.state.items[\"daily\"][\"data\"][5][\"temperatureLow\"])) + \"°\"}</td>\n                    </tr>\n                </table>\n            </div>\n            </div>\n        );\n    }\n}\n\nexport default function WeatherInfo() {\n    var location = useLocation();\n    return (\n        <body>\n            <WeatherHelper city={location.state.city}/>\n        </body>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}